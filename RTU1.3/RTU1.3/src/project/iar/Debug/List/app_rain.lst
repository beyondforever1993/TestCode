###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.50.6.4896/W32 for ARM      26/Mar/2017  12:36:35 #
# Copyright 1999-2013 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  D:\wangfan2\桌面\RTU_1.2\HuaceApp\Rain\app_rain.c        #
#    Command line =  D:\wangfan2\桌面\RTU_1.2\HuaceApp\Rain\app_rain.c -lCN   #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\List\ -o      #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\Obj\          #
#                    --no_cse --no_unroll --no_inline --no_code_motion        #
#                    --no_tbaa --no_clustering --no_scheduling --debug        #
#                    --endian=little --cpu=Cortex-M3 -e --fpu=None            #
#                    --dlib_config "C:\Program Files (x86)\IAR                #
#                    Systems\Embedded Workbench 6.5_2\arm\INC\c\DLib_Config_F #
#                    ull.h" -I D:\wangfan2\桌面\RTU_1.2\project\iar\ -I       #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\ -I       #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\ADC\ -I   #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\RTC\ -I   #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\TILT\ -I  #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\RDLevel\  #
#                    -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\RS232\ #
#                     -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\OS-v2 #
#                    \ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\Vibr #
#                    ationString\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\ #
#                    ..\ucos2\uCOS-II\Ports\ARM-Cortex-M3\Generic\IAR\ -I     #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\ucos2\uCOS-II #
#                    \Source\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\u #
#                    cos2\uC-LIB\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\ #
#                    ..\ucos2\uC-CPU\ -I D:\wangfan2\桌面\RTU_1.2\project\iar #
#                    \..\..\ucos2\uC-CPU\ARM-Cortex-M3\IAR\ -I                #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\cmsis\Drivers #
#                    \source\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\c #
#                    msis\Drivers\include\ -I D:\wangfan2\桌面\RTU_1.2\projec #
#                    t\iar\..\..\app\ -I D:\wangfan2\桌面\RTU_1.2\project\iar #
#                    \..\..\uC-Probe\Target\Plugins\uCOS-II\ -I               #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Demos\Intro\Workspaces\ -I                            #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Demos\Intro\Source\ -I D:\wangfan2\桌面\RTU_1.2\proje #
#                    ct\iar\..\..\uC-Probe\Target\Communication\Generic\Sourc #
#                    e\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Prob #
#                    e\Target\Communication\Generic\RS-232\Source\ -I         #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Communication\Generic\RS-232\Ports\NXP\LPC17xx\ -I    #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Communication\Generic\RS-232\OS\uCOS-II\ -I           #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\cmsis\Core\CM #
#                    3\CoreSupport\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\. #
#                    .\..\cmsis\Core\CM3\DeviceSupport\NXP\LPC177x_8x\ -I     #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp\ -I  #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp\DEVI #
#                    CE_BT\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\Hua #
#                    ceApp\DEVICE_COM\ -I D:\wangfan2\桌面\RTU_1.2\project\ia #
#                    r\..\..\HuaceApp\DEVICE_GPRS\ -I                         #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp\DEVI #
#                    CE_GPS\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\Hu #
#                    aceApp\DEVICE_RADIO\ -I D:\wangfan2\桌面\RTU_1.2\project #
#                    \iar\..\..\HuaceApp\iap\ -I                              #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\FatFs\ -I     #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\USB\ -I       #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\bsp\spi_flash #
#                    \ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp #
#                    \LED\ -On --use_c++_inline                               #
#    List file    =  D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\List\app_rain #
#                    .lst                                                     #
#    Object file  =  D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\Obj\app_rain. #
#                    o                                                        #
#                                                                             #
#                                                                             #
###############################################################################

D:\wangfan2\桌面\RTU_1.2\HuaceApp\Rain\app_rain.c
      1          #include "app_rain.h"

   \                                 In section .text, align 2
   \   __intrinsic __nounwind __interwork __softfp void *memcpy(void *, void const *, size_t)
   \                     memcpy:
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
   \   00000006   0x0016             MOVS     R6,R2
   \   00000008   0x0032             MOVS     R2,R6
   \   0000000A   0x0029             MOVS     R1,R5
   \   0000000C   0x0020             MOVS     R0,R4
   \   0000000E   0x.... 0x....      BL       __aeabi_memcpy
   \   00000012   0x0020             MOVS     R0,R4
   \   00000014   0xBD70             POP      {R4-R6,PC}       ;; return

   \                                 In section .text, align 2
   \   __intrinsic __nounwind __interwork __softfp void *memset(void *, int, size_t)
   \                     memset:
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
   \   00000006   0x0016             MOVS     R6,R2
   \   00000008   0x002A             MOVS     R2,R5
   \   0000000A   0x0031             MOVS     R1,R6
   \   0000000C   0x0020             MOVS     R0,R4
   \   0000000E   0x.... 0x....      BL       __aeabi_memset
   \   00000012   0x0020             MOVS     R0,R4
   \   00000014   0xBD70             POP      {R4-R6,PC}       ;; return
      2          
      3          #define RAIN_GETTIME (2000/25)		// 2s
      4          

   \                                 In section .bss, align 4
      5          uint32_t rain_count_curr;
   \                     rain_count_curr:
   \   00000000                      DS8 4
      6          

   \                                 In section .bss, align 4
      7          uint32_t rain_store_flag;
   \                     rain_store_flag:
   \   00000000                      DS8 4
      8          

   \                                 In section .bss, align 4
      9          uint32_t g_rain_gettime_dog = 0;
   \                     g_rain_gettime_dog:
   \   00000000                      DS8 4
     10          

   \                                 In section .bss, align 4
     11          rain_para_t rain_para;
   \                     rain_para:
   \   00000000                      DS8 32
     12          

   \                                 In section .bss, align 4
     13          static uint32_t rain_count_acc;
   \                     rain_count_acc:
   \   00000000                      DS8 4
     14          

   \                                 In section .bss, align 4
     15          static uint32_t rain_status;
   \                     rain_status:
   \   00000000                      DS8 4
     16          
     17          

   \                                 In section .bss, align 4
     18          static struct DATA_STRUCT dat;
   \                     dat:
   \   00000000                      DS8 52

   \                                 In section .bss, align 4
     19          static struct TIME_STRUCT tm;
   \                     tm:
   \   00000000                      DS8 8
     20          

   \                                 In section .text, align 2, keep-with-next
     21          void ProcessData_RAIN(void)
     22          {
   \                     ProcessData_RAIN:
   \   00000000   0xE92D 0x43FE      PUSH     {R1-R9,LR}
     23            float temp_acc,temp_curr;
     24            
     25            if(g_rain_gettime_dog >= RAIN_GETTIME)
   \   00000004   0x.... 0x....      LDR.W    R0,??DataTable4
   \   00000008   0x6800             LDR      R0,[R0, #+0]
   \   0000000A   0x2850             CMP      R0,#+80
   \   0000000C   0xD321             BCC.N    ??ProcessData_RAIN_0
     26            {
     27          	  rtc_get_time(&tm);
   \   0000000E   0x.... 0x....      LDR.W    R0,??DataTable4_1
   \   00000012   0x.... 0x....      BL       rtc_get_time
     28          	  
     29          	  if(tm.H == 0 && ((tm.M == 0) || (tm.M == 1)) )
   \   00000016   0x.... 0x....      LDR.W    R0,??DataTable4_1
   \   0000001A   0x7900             LDRB     R0,[R0, #+4]
   \   0000001C   0x2800             CMP      R0,#+0
   \   0000001E   0xD115             BNE.N    ??ProcessData_RAIN_1
   \   00000020   0x.... 0x....      LDR.W    R0,??DataTable4_1
   \   00000024   0x7940             LDRB     R0,[R0, #+5]
   \   00000026   0x2800             CMP      R0,#+0
   \   00000028   0xD004             BEQ.N    ??ProcessData_RAIN_2
   \   0000002A   0x.... 0x....      LDR.W    R0,??DataTable4_1
   \   0000002E   0x7940             LDRB     R0,[R0, #+5]
   \   00000030   0x2801             CMP      R0,#+1
   \   00000032   0xD10B             BNE.N    ??ProcessData_RAIN_1
     30          	  {
     31          		//0:0 清零
     32          		rain_count_curr = 0;
   \                     ??ProcessData_RAIN_2:
   \   00000034   0x.... 0x....      LDR.W    R0,??DataTable4_2
   \   00000038   0x2100             MOVS     R1,#+0
   \   0000003A   0x6001             STR      R1,[R0, #+0]
     33          		rain_count_acc  = 0;
   \   0000003C   0x.... 0x....      LDR.W    R0,??DataTable4_3
   \   00000040   0x2100             MOVS     R1,#+0
   \   00000042   0x6001             STR      R1,[R0, #+0]
     34          		LPC_RTC->GPREG3 = 0;
   \   00000044   0x.... 0x....      LDR.W    R0,??DataTable4_4  ;; 0x40024050
   \   00000048   0x2100             MOVS     R1,#+0
   \   0000004A   0x6001             STR      R1,[R0, #+0]
     35          	  }
     36          	  g_rain_gettime_dog = 0;
   \                     ??ProcessData_RAIN_1:
   \   0000004C   0x....             LDR.N    R0,??DataTable4
   \   0000004E   0x2100             MOVS     R1,#+0
   \   00000050   0x6001             STR      R1,[R0, #+0]
     37            }
     38            
     39            if( rain_store_flag == 0 )
   \                     ??ProcessData_RAIN_0:
   \   00000052   0x.... 0x....      LDR.W    R0,??DataTable4_5
   \   00000056   0x6800             LDR      R0,[R0, #+0]
   \   00000058   0x2800             CMP      R0,#+0
   \   0000005A   0xF000 0x808D      BEQ.W    ??ProcessData_RAIN_3
     40            {
     41              return;//时间未到
     42            }
     43            
     44            rain_store_flag = 0;
   \                     ??ProcessData_RAIN_4:
   \   0000005E   0x....             LDR.N    R0,??DataTable4_5
   \   00000060   0x2100             MOVS     R1,#+0
   \   00000062   0x6001             STR      R1,[R0, #+0]
     45            
     46            if(g_rain_gettime_dog >= 2)
   \   00000064   0x....             LDR.N    R0,??DataTable4
   \   00000066   0x6800             LDR      R0,[R0, #+0]
   \   00000068   0x2802             CMP      R0,#+2
   \   0000006A   0xD302             BCC.N    ??ProcessData_RAIN_5
     47          	  rtc_get_time(&tm);
   \   0000006C   0x....             LDR.N    R0,??DataTable4_1
   \   0000006E   0x.... 0x....      BL       rtc_get_time
     48            
     49            if((tm.y < 2015) || (tm.y > 2100))
   \                     ??ProcessData_RAIN_5:
   \   00000072   0x....             LDR.N    R0,??DataTable4_1
   \   00000074   0x8800             LDRH     R0,[R0, #+0]
   \   00000076   0xF240 0x71DF      MOVW     R1,#+2015
   \   0000007A   0x4288             CMP      R0,R1
   \   0000007C   0xDB05             BLT.N    ??ProcessData_RAIN_6
   \   0000007E   0x....             LDR.N    R0,??DataTable4_1
   \   00000080   0x8800             LDRH     R0,[R0, #+0]
   \   00000082   0xF640 0x0135      MOVW     R1,#+2101
   \   00000086   0x4288             CMP      R0,R1
   \   00000088   0xDB00             BLT.N    ??ProcessData_RAIN_7
     50            {
     51              return;
   \                     ??ProcessData_RAIN_6:
   \   0000008A   0xE075             B.N      ??ProcessData_RAIN_3
     52            }
     53            
     54            //save
     55            dat.y = tm.y;
   \                     ??ProcessData_RAIN_7:
   \   0000008C   0x....             LDR.N    R0,??DataTable4_6
   \   0000008E   0x....             LDR.N    R1,??DataTable4_1
   \   00000090   0x8809             LDRH     R1,[R1, #+0]
   \   00000092   0x8001             STRH     R1,[R0, #+0]
     56            dat.m = tm.m;
   \   00000094   0x....             LDR.N    R0,??DataTable4_6
   \   00000096   0x....             LDR.N    R1,??DataTable4_1
   \   00000098   0x7889             LDRB     R1,[R1, #+2]
   \   0000009A   0x7081             STRB     R1,[R0, #+2]
     57            dat.d = tm.d;
   \   0000009C   0x....             LDR.N    R0,??DataTable4_6
   \   0000009E   0x....             LDR.N    R1,??DataTable4_1
   \   000000A0   0x78C9             LDRB     R1,[R1, #+3]
   \   000000A2   0x70C1             STRB     R1,[R0, #+3]
     58            dat.H = tm.H;
   \   000000A4   0x....             LDR.N    R0,??DataTable4_6
   \   000000A6   0x....             LDR.N    R1,??DataTable4_1
   \   000000A8   0x7909             LDRB     R1,[R1, #+4]
   \   000000AA   0x7101             STRB     R1,[R0, #+4]
     59            dat.M = tm.M;
   \   000000AC   0x....             LDR.N    R0,??DataTable4_6
   \   000000AE   0x....             LDR.N    R1,??DataTable4_1
   \   000000B0   0x7949             LDRB     R1,[R1, #+5]
   \   000000B2   0x7141             STRB     R1,[R0, #+5]
     60            dat.S = tm.S;
   \   000000B4   0x....             LDR.N    R0,??DataTable4_6
   \   000000B6   0x....             LDR.N    R1,??DataTable4_1
   \   000000B8   0x7989             LDRB     R1,[R1, #+6]
   \   000000BA   0x7181             STRB     R1,[R0, #+6]
     61            
     62            dat.type = 0;
   \   000000BC   0x....             LDR.N    R0,??DataTable4_6
   \   000000BE   0x2100             MOVS     R1,#+0
   \   000000C0   0x71C1             STRB     R1,[R0, #+7]
     63            
     64            temp_curr = (rain_count_curr * 0.1f * rain_para.resol );
   \   000000C2   0x....             LDR.N    R0,??DataTable4_2
   \   000000C4   0x6800             LDR      R0,[R0, #+0]
   \   000000C6   0x.... 0x....      BL       __aeabi_ui2f
   \   000000CA   0x....             LDR.N    R1,??DataTable4_7  ;; 0x3dcccccd
   \   000000CC   0x.... 0x....      BL       __aeabi_fmul
   \   000000D0   0x0006             MOVS     R6,R0
   \   000000D2   0x....             LDR.N    R0,??DataTable4_8
   \   000000D4   0x7A00             LDRB     R0,[R0, #+8]
   \   000000D6   0x.... 0x....      BL       __aeabi_ui2f
   \   000000DA   0x0031             MOVS     R1,R6
   \   000000DC   0x.... 0x....      BL       __aeabi_fmul
   \   000000E0   0x0005             MOVS     R5,R0
     65            temp_acc  = (rain_count_acc * 0.1f *  rain_para.resol );
   \   000000E2   0x....             LDR.N    R0,??DataTable4_3
   \   000000E4   0x6800             LDR      R0,[R0, #+0]
   \   000000E6   0x.... 0x....      BL       __aeabi_ui2f
   \   000000EA   0x....             LDR.N    R1,??DataTable4_7  ;; 0x3dcccccd
   \   000000EC   0x.... 0x....      BL       __aeabi_fmul
   \   000000F0   0x0006             MOVS     R6,R0
   \   000000F2   0x....             LDR.N    R0,??DataTable4_8
   \   000000F4   0x7A00             LDRB     R0,[R0, #+8]
   \   000000F6   0x.... 0x....      BL       __aeabi_ui2f
   \   000000FA   0x0031             MOVS     R1,R6
   \   000000FC   0x.... 0x....      BL       __aeabi_fmul
   \   00000100   0x0004             MOVS     R4,R0
     66            
     67            sprintf(dat.data, "%s,40,%d.%01d,%d.%01d",rain_para.sname,(uint32_t)temp_curr,
     68                    (uint32_t)((uint32_t)(temp_curr*10) % 10),
     69                    (uint32_t)temp_acc,
     70                    (uint32_t)((uint32_t)(temp_acc*10) % 10));
   \   00000102   0x....             LDR.N    R0,??DataTable4_9  ;; 0x41200000
   \   00000104   0x0021             MOVS     R1,R4
   \   00000106   0x.... 0x....      BL       __aeabi_fmul
   \   0000010A   0x.... 0x....      BL       __aeabi_f2uiz
   \   0000010E   0x4680             MOV      R8,R0
   \   00000110   0xF05F 0x090A      MOVS     R9,#+10
   \   00000114   0x....             LDR.N    R0,??DataTable4_9  ;; 0x41200000
   \   00000116   0x0029             MOVS     R1,R5
   \   00000118   0x.... 0x....      BL       __aeabi_fmul
   \   0000011C   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000120   0x0006             MOVS     R6,R0
   \   00000122   0x270A             MOVS     R7,#+10
   \   00000124   0xFBB8 0xF0F9      UDIV     R0,R8,R9
   \   00000128   0xFB09 0x8010      MLS      R0,R9,R0,R8
   \   0000012C   0x9002             STR      R0,[SP, #+8]
   \   0000012E   0x0020             MOVS     R0,R4
   \   00000130   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000134   0x9001             STR      R0,[SP, #+4]
   \   00000136   0xFBB6 0xF0F7      UDIV     R0,R6,R7
   \   0000013A   0xFB07 0x6010      MLS      R0,R7,R0,R6
   \   0000013E   0x9000             STR      R0,[SP, #+0]
   \   00000140   0x0028             MOVS     R0,R5
   \   00000142   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000146   0x0003             MOVS     R3,R0
   \   00000148   0x....             LDR.N    R2,??DataTable4_10
   \   0000014A   0x....             LDR.N    R1,??DataTable4_11
   \   0000014C   0x....             LDR.N    R0,??DataTable4_12
   \   0000014E   0x.... 0x....      BL       sprintf
     71            
     72            if( strlen(dat.data) > 31)
   \   00000152   0x....             LDR.N    R0,??DataTable4_12
   \   00000154   0x.... 0x....      BL       strlen
   \   00000158   0x2820             CMP      R0,#+32
   \   0000015A   0xD303             BCC.N    ??ProcessData_RAIN_8
     73            {
     74              DebugMsg("rain write err \r\n");
   \   0000015C   0x....             LDR.N    R0,??DataTable4_13
   \   0000015E   0x.... 0x....      BL       DebugMsg
     75              return;
   \   00000162   0xE009             B.N      ??ProcessData_RAIN_3
     76            }
     77            
     78            g_RtuStatus.led_dwload = 1;
   \                     ??ProcessData_RAIN_8:
   \   00000164   0x....             LDR.N    R0,??DataTable4_14
   \   00000166   0x2101             MOVS     R1,#+1
   \   00000168   0xF880 0x1037      STRB     R1,[R0, #+55]
     79            file_write(&dat);
   \   0000016C   0x....             LDR.N    R0,??DataTable4_6
   \   0000016E   0x.... 0x....      BL       file_write
     80            
     81            rain_count_curr = 0;
   \   00000172   0x....             LDR.N    R0,??DataTable4_2
   \   00000174   0x2100             MOVS     R1,#+0
   \   00000176   0x6001             STR      R1,[R0, #+0]
     82            
     83            //DebugMsg("rain write ok \r\n");
     84            
     85          }
   \                     ??ProcessData_RAIN_3:
   \   00000178   0xE8BD 0x83F7      POP      {R0-R2,R4-R9,PC}  ;; return
     86          

   \                                 In section .text, align 2, keep-with-next
     87          void rain_init(void)
     88          {
   \                     rain_init:
   \   00000000   0xB580             PUSH     {R7,LR}
     89            /** 变量初始化 **/
     90            rain_count_curr = 0;
   \   00000002   0x....             LDR.N    R0,??DataTable4_2
   \   00000004   0x2100             MOVS     R1,#+0
   \   00000006   0x6001             STR      R1,[R0, #+0]
     91            rain_count_acc = LPC_RTC->GPREG3;
   \   00000008   0x....             LDR.N    R0,??DataTable4_3
   \   0000000A   0x....             LDR.N    R1,??DataTable4_4  ;; 0x40024050
   \   0000000C   0x6809             LDR      R1,[R1, #+0]
   \   0000000E   0x6001             STR      R1,[R0, #+0]
     92            rain_status = 0;
   \   00000010   0x....             LDR.N    R0,??DataTable4_15
   \   00000012   0x2100             MOVS     R1,#+0
   \   00000014   0x6001             STR      R1,[R0, #+0]
     93            rain_store_flag = 0;
   \   00000016   0x....             LDR.N    R0,??DataTable4_5
   \   00000018   0x2100             MOVS     R1,#+0
   \   0000001A   0x6001             STR      R1,[R0, #+0]
     94            
     95            memset(&dat,0,sizeof dat);
   \   0000001C   0x2232             MOVS     R2,#+50
   \   0000001E   0x2100             MOVS     R1,#+0
   \   00000020   0x....             LDR.N    R0,??DataTable4_6
   \   00000022   0x.... 0x....      BL       memset
     96            
     97            memset(&tm,0,sizeof tm);
   \   00000026   0x2208             MOVS     R2,#+8
   \   00000028   0x2100             MOVS     R1,#+0
   \   0000002A   0x....             LDR.N    R0,??DataTable4_1
   \   0000002C   0x.... 0x....      BL       memset
     98            
     99            /** 引脚初始化 **/
    100            GPIO_SetDir(RAIN_PORT,RAIN_PIN,GPIO_DIRECTION_INPUT);
   \   00000030   0x2200             MOVS     R2,#+0
   \   00000032   0x2110             MOVS     R1,#+16
   \   00000034   0x2000             MOVS     R0,#+0
   \   00000036   0x.... 0x....      BL       GPIO_SetDir
    101            
    102            rain_para.init_done = 1;
   \   0000003A   0x....             LDR.N    R0,??DataTable4_8
   \   0000003C   0x2101             MOVS     R1,#+1
   \   0000003E   0x7781             STRB     R1,[R0, #+30]
    103            
    104          }
   \   00000040   0xBD01             POP      {R0,PC}          ;; return
    105          
    106          

   \                                 In section .text, align 2, keep-with-next
    107          void rain_get_last(struct DATA_STRUCT * datp)
    108          {
   \                     rain_get_last:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0x0004             MOVS     R4,R0
    109            
    110            memcpy(datp,&dat,sizeof(struct DATA_STRUCT));
   \   00000004   0x2232             MOVS     R2,#+50
   \   00000006   0x....             LDR.N    R1,??DataTable4_6
   \   00000008   0x0020             MOVS     R0,R4
   \   0000000A   0x.... 0x....      BL       memcpy
    111            
    112          }
   \   0000000E   0xBD10             POP      {R4,PC}          ;; return
    113          

   \                                 In section .text, align 2, keep-with-next
    114          void rain_get_curr(struct DATA_STRUCT * datp)
    115          {
   \                     rain_get_curr:
   \   00000000   0xE92D 0x47F0      PUSH     {R4-R10,LR}
   \   00000004   0xB086             SUB      SP,SP,#+24
   \   00000006   0x0004             MOVS     R4,R0
    116            float temp_acc,temp_curr;
    117            struct TIME_STRUCT time;
    118            
    119            rtc_get_time(&time);
   \   00000008   0xA803             ADD      R0,SP,#+12
   \   0000000A   0x.... 0x....      BL       rtc_get_time
    120            
    121            datp->y = time.y;
   \   0000000E   0xF8BD 0x000C      LDRH     R0,[SP, #+12]
   \   00000012   0x8020             STRH     R0,[R4, #+0]
    122            datp->m = time.m;
   \   00000014   0xF89D 0x000E      LDRB     R0,[SP, #+14]
   \   00000018   0x70A0             STRB     R0,[R4, #+2]
    123            datp->d = time.d;
   \   0000001A   0xF89D 0x000F      LDRB     R0,[SP, #+15]
   \   0000001E   0x70E0             STRB     R0,[R4, #+3]
    124            datp->H = time.H;
   \   00000020   0xF89D 0x0010      LDRB     R0,[SP, #+16]
   \   00000024   0x7120             STRB     R0,[R4, #+4]
    125            datp->M = time.M;
   \   00000026   0xF89D 0x0011      LDRB     R0,[SP, #+17]
   \   0000002A   0x7160             STRB     R0,[R4, #+5]
    126            datp->S = time.S;
   \   0000002C   0xF89D 0x0012      LDRB     R0,[SP, #+18]
   \   00000030   0x71A0             STRB     R0,[R4, #+6]
    127            
    128            datp->type = 0;
   \   00000032   0x2000             MOVS     R0,#+0
   \   00000034   0x71E0             STRB     R0,[R4, #+7]
    129            
    130            temp_curr = (rain_count_curr * 0.1f * rain_para.resol );
   \   00000036   0x....             LDR.N    R0,??DataTable4_2
   \   00000038   0x6800             LDR      R0,[R0, #+0]
   \   0000003A   0x.... 0x....      BL       __aeabi_ui2f
   \   0000003E   0x....             LDR.N    R1,??DataTable4_7  ;; 0x3dcccccd
   \   00000040   0x.... 0x....      BL       __aeabi_fmul
   \   00000044   0x0007             MOVS     R7,R0
   \   00000046   0x....             LDR.N    R0,??DataTable4_8
   \   00000048   0x7A00             LDRB     R0,[R0, #+8]
   \   0000004A   0x.... 0x....      BL       __aeabi_ui2f
   \   0000004E   0x0039             MOVS     R1,R7
   \   00000050   0x.... 0x....      BL       __aeabi_fmul
   \   00000054   0x0006             MOVS     R6,R0
    131            temp_acc  = (rain_count_acc * 0.1f *  rain_para.resol );
   \   00000056   0x....             LDR.N    R0,??DataTable4_3
   \   00000058   0x6800             LDR      R0,[R0, #+0]
   \   0000005A   0x.... 0x....      BL       __aeabi_ui2f
   \   0000005E   0x....             LDR.N    R1,??DataTable4_7  ;; 0x3dcccccd
   \   00000060   0x.... 0x....      BL       __aeabi_fmul
   \   00000064   0x0007             MOVS     R7,R0
   \   00000066   0x....             LDR.N    R0,??DataTable4_8
   \   00000068   0x7A00             LDRB     R0,[R0, #+8]
   \   0000006A   0x.... 0x....      BL       __aeabi_ui2f
   \   0000006E   0x0039             MOVS     R1,R7
   \   00000070   0x.... 0x....      BL       __aeabi_fmul
   \   00000074   0x0005             MOVS     R5,R0
    132            
    133            sprintf(datp->data, "%s,40,%d.%01d,%d.%01d",rain_para.sname,(uint32_t)temp_curr,
    134                    (uint32_t)((uint32_t)(temp_curr*10) % 10),
    135                    (uint32_t)temp_acc,
    136                    (uint32_t)((uint32_t)(temp_acc*10) % 10));
   \   00000076   0x....             LDR.N    R0,??DataTable4_9  ;; 0x41200000
   \   00000078   0x0029             MOVS     R1,R5
   \   0000007A   0x.... 0x....      BL       __aeabi_fmul
   \   0000007E   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000082   0x4681             MOV      R9,R0
   \   00000084   0xF05F 0x0A0A      MOVS     R10,#+10
   \   00000088   0x....             LDR.N    R0,??DataTable4_9  ;; 0x41200000
   \   0000008A   0x0031             MOVS     R1,R6
   \   0000008C   0x.... 0x....      BL       __aeabi_fmul
   \   00000090   0x.... 0x....      BL       __aeabi_f2uiz
   \   00000094   0x0007             MOVS     R7,R0
   \   00000096   0xF05F 0x080A      MOVS     R8,#+10
   \   0000009A   0xFBB9 0xF0FA      UDIV     R0,R9,R10
   \   0000009E   0xFB0A 0x9010      MLS      R0,R10,R0,R9
   \   000000A2   0x9002             STR      R0,[SP, #+8]
   \   000000A4   0x0028             MOVS     R0,R5
   \   000000A6   0x.... 0x....      BL       __aeabi_f2uiz
   \   000000AA   0x9001             STR      R0,[SP, #+4]
   \   000000AC   0xFBB7 0xF0F8      UDIV     R0,R7,R8
   \   000000B0   0xFB08 0x7010      MLS      R0,R8,R0,R7
   \   000000B4   0x9000             STR      R0,[SP, #+0]
   \   000000B6   0x0030             MOVS     R0,R6
   \   000000B8   0x.... 0x....      BL       __aeabi_f2uiz
   \   000000BC   0x0003             MOVS     R3,R0
   \   000000BE   0x....             LDR.N    R2,??DataTable4_10
   \   000000C0   0x....             LDR.N    R1,??DataTable4_11
   \   000000C2   0xF114 0x0008      ADDS     R0,R4,#+8
   \   000000C6   0x.... 0x....      BL       sprintf
    137          }
   \   000000CA   0xB006             ADD      SP,SP,#+24
   \   000000CC   0xE8BD 0x87F0      POP      {R4-R10,PC}      ;; return
    138          

   \                                 In section .text, align 2, keep-with-next
    139          void rain_count_time_handler(void)
    140          {//25ms 中断
   \                     rain_count_time_handler:
   \   00000000   0xB580             PUSH     {R7,LR}
    141            
    142            static uint32_t t_count ;
    143            static uint32_t rain_time_out;
    144            
    145            if( rain_para.init_done == 0)
   \   00000002   0x....             LDR.N    R0,??DataTable4_8
   \   00000004   0x7F80             LDRB     R0,[R0, #+30]
   \   00000006   0x2800             CMP      R0,#+0
   \   00000008   0xD05F             BEQ.N    ??rain_count_time_handler_0
    146            {
    147              return;
    148            }
    149            
    150            if( (GPIO_ReadValue(RAIN_PORT) & RAIN_PIN) != 0)
   \                     ??rain_count_time_handler_1:
   \   0000000A   0x2000             MOVS     R0,#+0
   \   0000000C   0x.... 0x....      BL       GPIO_ReadValue
   \   00000010   0x06C0             LSLS     R0,R0,#+27
   \   00000012   0xD50A             BPL.N    ??rain_count_time_handler_2
    151            {
    152              if( rain_status == 0 )
   \   00000014   0x....             LDR.N    R0,??DataTable4_15
   \   00000016   0x6800             LDR      R0,[R0, #+0]
   \   00000018   0x2800             CMP      R0,#+0
   \   0000001A   0xD102             BNE.N    ??rain_count_time_handler_3
    153              {
    154               rain_time_out = 1;
   \   0000001C   0x....             LDR.N    R0,??DataTable4_16
   \   0000001E   0x2101             MOVS     R1,#+1
   \   00000020   0x6001             STR      R1,[R0, #+0]
    155              }
    156              
    157              rain_status = 1;
   \                     ??rain_count_time_handler_3:
   \   00000022   0x....             LDR.N    R0,??DataTable4_15
   \   00000024   0x2101             MOVS     R1,#+1
   \   00000026   0x6001             STR      R1,[R0, #+0]
   \   00000028   0xE009             B.N      ??rain_count_time_handler_4
    158              
    159            }
    160            else
    161            {
    162              if( rain_status == 1 )
   \                     ??rain_count_time_handler_2:
   \   0000002A   0x....             LDR.N    R0,??DataTable4_15
   \   0000002C   0x6800             LDR      R0,[R0, #+0]
   \   0000002E   0x2801             CMP      R0,#+1
   \   00000030   0xD102             BNE.N    ??rain_count_time_handler_5
    163              {
    164                rain_time_out = 1;
   \   00000032   0x....             LDR.N    R0,??DataTable4_16
   \   00000034   0x2101             MOVS     R1,#+1
   \   00000036   0x6001             STR      R1,[R0, #+0]
    165              }
    166              
    167              rain_status = 0;
   \                     ??rain_count_time_handler_5:
   \   00000038   0x....             LDR.N    R0,??DataTable4_15
   \   0000003A   0x2100             MOVS     R1,#+0
   \   0000003C   0x6001             STR      R1,[R0, #+0]
    168            }
    169            
    170            t_count++;
   \                     ??rain_count_time_handler_4:
   \   0000003E   0x....             LDR.N    R0,??DataTable4_17
   \   00000040   0x6800             LDR      R0,[R0, #+0]
   \   00000042   0x1C40             ADDS     R0,R0,#+1
   \   00000044   0x....             LDR.N    R1,??DataTable4_17
   \   00000046   0x6008             STR      R0,[R1, #+0]
    171            g_rain_gettime_dog++;
   \   00000048   0x....             LDR.N    R0,??DataTable4
   \   0000004A   0x6800             LDR      R0,[R0, #+0]
   \   0000004C   0x1C40             ADDS     R0,R0,#+1
   \   0000004E   0x....             LDR.N    R1,??DataTable4
   \   00000050   0x6008             STR      R0,[R1, #+0]
    172            if(g_rain_gettime_dog > RAIN_GETTIME)
   \   00000052   0x....             LDR.N    R0,??DataTable4
   \   00000054   0x6800             LDR      R0,[R0, #+0]
   \   00000056   0x2851             CMP      R0,#+81
   \   00000058   0xD302             BCC.N    ??rain_count_time_handler_6
    173            {
    174          	  g_rain_gettime_dog = RAIN_GETTIME;
   \   0000005A   0x....             LDR.N    R0,??DataTable4
   \   0000005C   0x2150             MOVS     R1,#+80
   \   0000005E   0x6001             STR      R1,[R0, #+0]
    175            }  
    176            
    177            if( rain_para.frq != 0)
   \                     ??rain_count_time_handler_6:
   \   00000060   0x....             LDR.N    R0,??DataTable4_8
   \   00000062   0x6840             LDR      R0,[R0, #+4]
   \   00000064   0x2800             CMP      R0,#+0
   \   00000066   0xD00E             BEQ.N    ??rain_count_time_handler_7
    178            {// 雨量计在设置间隔为0时，定义为关闭采集状态 
    179              if( t_count >= rain_para.frq*2400)
   \   00000068   0x....             LDR.N    R0,??DataTable4_17
   \   0000006A   0x6800             LDR      R0,[R0, #+0]
   \   0000006C   0x....             LDR.N    R1,??DataTable4_8
   \   0000006E   0x6849             LDR      R1,[R1, #+4]
   \   00000070   0xF44F 0x6216      MOV      R2,#+2400
   \   00000074   0x4351             MULS     R1,R2,R1
   \   00000076   0x4288             CMP      R0,R1
   \   00000078   0xD305             BCC.N    ??rain_count_time_handler_7
    180              {
    181                t_count = 0;
   \   0000007A   0x....             LDR.N    R0,??DataTable4_17
   \   0000007C   0x2100             MOVS     R1,#+0
   \   0000007E   0x6001             STR      R1,[R0, #+0]
    182                rain_store_flag = 1;
   \   00000080   0x....             LDR.N    R0,??DataTable4_5
   \   00000082   0x2101             MOVS     R1,#+1
   \   00000084   0x6001             STR      R1,[R0, #+0]
    183              }
    184            }
    185            
    186            if( rain_time_out >= 1)
   \                     ??rain_count_time_handler_7:
   \   00000086   0x....             LDR.N    R0,??DataTable4_16
   \   00000088   0x6800             LDR      R0,[R0, #+0]
   \   0000008A   0x2800             CMP      R0,#+0
   \   0000008C   0xD01D             BEQ.N    ??rain_count_time_handler_8
    187            {
    188              rain_time_out ++;
   \   0000008E   0x....             LDR.N    R0,??DataTable4_16
   \   00000090   0x6800             LDR      R0,[R0, #+0]
   \   00000092   0x1C40             ADDS     R0,R0,#+1
   \   00000094   0x....             LDR.N    R1,??DataTable4_16
   \   00000096   0x6008             STR      R0,[R1, #+0]
    189              
    190              if( rain_time_out > 12)
   \   00000098   0x....             LDR.N    R0,??DataTable4_16
   \   0000009A   0x6800             LDR      R0,[R0, #+0]
   \   0000009C   0x280D             CMP      R0,#+13
   \   0000009E   0xD314             BCC.N    ??rain_count_time_handler_8
    191              {
    192                rain_time_out = 0;
   \   000000A0   0x....             LDR.N    R0,??DataTable4_16
   \   000000A2   0x2100             MOVS     R1,#+0
   \   000000A4   0x6001             STR      R1,[R0, #+0]
    193                
    194                g_RtuStatus.led_dwload = 1;
   \   000000A6   0x....             LDR.N    R0,??DataTable4_14
   \   000000A8   0x2101             MOVS     R1,#+1
   \   000000AA   0xF880 0x1037      STRB     R1,[R0, #+55]
    195                rain_count_curr++;
   \   000000AE   0x....             LDR.N    R0,??DataTable4_2
   \   000000B0   0x6800             LDR      R0,[R0, #+0]
   \   000000B2   0x1C40             ADDS     R0,R0,#+1
   \   000000B4   0x....             LDR.N    R1,??DataTable4_2
   \   000000B6   0x6008             STR      R0,[R1, #+0]
    196                rain_count_acc ++;
   \   000000B8   0x....             LDR.N    R0,??DataTable4_3
   \   000000BA   0x6800             LDR      R0,[R0, #+0]
   \   000000BC   0x1C40             ADDS     R0,R0,#+1
   \   000000BE   0x....             LDR.N    R1,??DataTable4_3
   \   000000C0   0x6008             STR      R0,[R1, #+0]
    197                LPC_RTC->GPREG3 = rain_count_acc;
   \   000000C2   0x....             LDR.N    R0,??DataTable4_4  ;; 0x40024050
   \   000000C4   0x....             LDR.N    R1,??DataTable4_3
   \   000000C6   0x6809             LDR      R1,[R1, #+0]
   \   000000C8   0x6001             STR      R1,[R0, #+0]
    198              }
    199            }
    200                
    201          }
   \                     ??rain_count_time_handler_8:
   \                     ??rain_count_time_handler_0:
   \   000000CA   0xBD01             POP      {R0,PC}          ;; return

   \                                 In section .bss, align 4
   \                     ??t_count:
   \   00000000                      DS8 4

   \                                 In section .bss, align 4
   \                     ??rain_time_out:
   \   00000000                      DS8 4

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4:
   \   00000000   0x........         DC32     g_rain_gettime_dog

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_1:
   \   00000000   0x........         DC32     tm

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_2:
   \   00000000   0x........         DC32     rain_count_curr

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_3:
   \   00000000   0x........         DC32     rain_count_acc

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_4:
   \   00000000   0x40024050         DC32     0x40024050

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_5:
   \   00000000   0x........         DC32     rain_store_flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_6:
   \   00000000   0x........         DC32     dat

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_7:
   \   00000000   0x3DCCCCCD         DC32     0x3dcccccd

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_8:
   \   00000000   0x........         DC32     rain_para

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_9:
   \   00000000   0x41200000         DC32     0x41200000

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_10:
   \   00000000   0x........         DC32     rain_para+0x9

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_11:
   \   00000000   0x........         DC32     `?<Constant "%s,40,%d.%01d,%d.%01d">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_12:
   \   00000000   0x........         DC32     dat+0x8

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_13:
   \   00000000   0x........         DC32     `?<Constant "rain write err \\r\\n">`

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_14:
   \   00000000   0x........         DC32     g_RtuStatus

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_15:
   \   00000000   0x........         DC32     rain_status

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_16:
   \   00000000   0x........         DC32     ??rain_time_out

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable4_17:
   \   00000000   0x........         DC32     ??t_count

   \                                 In section .rodata, align 4
   \                     `?<Constant "%s,40,%d.%01d,%d.%01d">`:
   \   00000000   0x25 0x73          DC8 "%s,40,%d.%01d,%d.%01d"
   \              0x2C 0x34    
   \              0x30 0x2C    
   \              0x25 0x64    
   \              0x2E 0x25    
   \              0x30 0x31    
   \              0x64 0x2C    
   \              0x25 0x64    
   \              0x2E 0x25    
   \              0x30 0x31    
   \              0x64 0x00    
   \   00000016   0x00 0x00          DC8 0, 0

   \                                 In section .rodata, align 4
   \                     `?<Constant "rain write err \\r\\n">`:
   \   00000000   0x72 0x61          DC8 "rain write err \015\012"
   \              0x69 0x6E    
   \              0x20 0x77    
   \              0x72 0x69    
   \              0x74 0x65    
   \              0x20 0x65    
   \              0x72 0x72    
   \              0x20 0x0D    
   \              0x0A 0x00    
   \   00000012   0x00 0x00          DC8 0, 0

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      40   ProcessData_RAIN
        40   -> DebugMsg
        40   -> __aeabi_f2uiz
        40   -> __aeabi_fmul
        40   -> __aeabi_ui2f
        40   -> file_write
        40   -> rtc_get_time
        40   -> sprintf
        40   -> strlen
      16   memcpy
        16   -> __aeabi_memcpy
      16   memset
        16   -> __aeabi_memset
       8   rain_count_time_handler
         8   -> GPIO_ReadValue
      56   rain_get_curr
        56   -> __aeabi_f2uiz
        56   -> __aeabi_fmul
        56   -> __aeabi_ui2f
        56   -> rtc_get_time
        56   -> sprintf
       8   rain_get_last
         8   -> memcpy
       8   rain_init
         8   -> GPIO_SetDir
         8   -> memset


   Section sizes:

   Bytes  Function/Label
   -----  --------------
      24  ?<Constant "%s,40,%d.%01d,%d.%01d">
      20  ?<Constant "rain write err \r\n">
       4  ??DataTable4
       4  ??DataTable4_1
       4  ??DataTable4_10
       4  ??DataTable4_11
       4  ??DataTable4_12
       4  ??DataTable4_13
       4  ??DataTable4_14
       4  ??DataTable4_15
       4  ??DataTable4_16
       4  ??DataTable4_17
       4  ??DataTable4_2
       4  ??DataTable4_3
       4  ??DataTable4_4
       4  ??DataTable4_5
       4  ??DataTable4_6
       4  ??DataTable4_7
       4  ??DataTable4_8
       4  ??DataTable4_9
     380  ProcessData_RAIN
      52  dat
       4  g_rain_gettime_dog
      22  memcpy
      22  memset
       4  rain_count_acc
       4  rain_count_curr
     204  rain_count_time_handler
     208  rain_get_curr
      16  rain_get_last
      66  rain_init
      32  rain_para
       4  rain_status
       4  rain_store_flag
       4  rain_time_out
       4  t_count
       8  tm

 
 120 bytes in section .bss
  44 bytes in section .rodata
 990 bytes in section .text
 
 946 bytes of CODE  memory (+ 44 bytes shared)
  44 bytes of CONST memory
 120 bytes of DATA  memory

Errors: none
Warnings: 3
