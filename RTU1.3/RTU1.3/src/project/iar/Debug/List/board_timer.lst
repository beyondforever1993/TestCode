###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.50.6.4896/W32 for ARM      26/Mar/2017  12:36:38 #
# Copyright 1999-2013 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  D:\wangfan2\桌面\RTU_1.2\bsp\board_timer.c               #
#    Command line =  D:\wangfan2\桌面\RTU_1.2\bsp\board_timer.c -lCN          #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\List\ -o      #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\Obj\          #
#                    --no_cse --no_unroll --no_inline --no_code_motion        #
#                    --no_tbaa --no_clustering --no_scheduling --debug        #
#                    --endian=little --cpu=Cortex-M3 -e --fpu=None            #
#                    --dlib_config "C:\Program Files (x86)\IAR                #
#                    Systems\Embedded Workbench 6.5_2\arm\INC\c\DLib_Config_F #
#                    ull.h" -I D:\wangfan2\桌面\RTU_1.2\project\iar\ -I       #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\ -I       #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\ADC\ -I   #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\RTC\ -I   #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\TILT\ -I  #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\RDLevel\  #
#                    -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\RS232\ #
#                     -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\OS-v2 #
#                    \ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\BSP\Vibr #
#                    ationString\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\ #
#                    ..\ucos2\uCOS-II\Ports\ARM-Cortex-M3\Generic\IAR\ -I     #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\ucos2\uCOS-II #
#                    \Source\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\u #
#                    cos2\uC-LIB\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\ #
#                    ..\ucos2\uC-CPU\ -I D:\wangfan2\桌面\RTU_1.2\project\iar #
#                    \..\..\ucos2\uC-CPU\ARM-Cortex-M3\IAR\ -I                #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\cmsis\Drivers #
#                    \source\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\c #
#                    msis\Drivers\include\ -I D:\wangfan2\桌面\RTU_1.2\projec #
#                    t\iar\..\..\app\ -I D:\wangfan2\桌面\RTU_1.2\project\iar #
#                    \..\..\uC-Probe\Target\Plugins\uCOS-II\ -I               #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Demos\Intro\Workspaces\ -I                            #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Demos\Intro\Source\ -I D:\wangfan2\桌面\RTU_1.2\proje #
#                    ct\iar\..\..\uC-Probe\Target\Communication\Generic\Sourc #
#                    e\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Prob #
#                    e\Target\Communication\Generic\RS-232\Source\ -I         #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Communication\Generic\RS-232\Ports\NXP\LPC17xx\ -I    #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\uC-Probe\Targ #
#                    et\Communication\Generic\RS-232\OS\uCOS-II\ -I           #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\cmsis\Core\CM #
#                    3\CoreSupport\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\. #
#                    .\..\cmsis\Core\CM3\DeviceSupport\NXP\LPC177x_8x\ -I     #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp\ -I  #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp\DEVI #
#                    CE_BT\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\Hua #
#                    ceApp\DEVICE_COM\ -I D:\wangfan2\桌面\RTU_1.2\project\ia #
#                    r\..\..\HuaceApp\DEVICE_GPRS\ -I                         #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp\DEVI #
#                    CE_GPS\ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\Hu #
#                    aceApp\DEVICE_RADIO\ -I D:\wangfan2\桌面\RTU_1.2\project #
#                    \iar\..\..\HuaceApp\iap\ -I                              #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\FatFs\ -I     #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\USB\ -I       #
#                    D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\bsp\spi_flash #
#                    \ -I D:\wangfan2\桌面\RTU_1.2\project\iar\..\..\HuaceApp #
#                    \LED\ -On --use_c++_inline                               #
#    List file    =  D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\List\board_ti #
#                    mer.lst                                                  #
#    Object file  =  D:\wangfan2\桌面\RTU_1.2\project\iar\Debug\Obj\board_tim #
#                    er.o                                                     #
#                                                                             #
#                                                                             #
###############################################################################

D:\wangfan2\桌面\RTU_1.2\bsp\board_timer.c
      1          #include "includes.h"

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_EnableIRQ(IRQn_Type)
   \                     NVIC_EnableIRQ:
   \   00000000   0xB410             PUSH     {R4}
   \   00000002   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   00000004   0x0941             LSRS     R1,R0,#+5
   \   00000006   0x....             LDR.N    R2,??DataTable3  ;; 0xe000e100
   \   00000008   0x2301             MOVS     R3,#+1
   \   0000000A   0xF010 0x041F      ANDS     R4,R0,#0x1F
   \   0000000E   0x40A3             LSLS     R3,R3,R4
   \   00000010   0xF842 0x3021      STR      R3,[R2, R1, LSL #+2]
   \   00000014   0xBC10             POP      {R4}
   \   00000016   0x4770             BX       LR               ;; return

   \                                 In section .text, align 2, keep-with-next
   \   static __interwork __softfp void NVIC_SetPriority(IRQn_Type, uint32_t)
   \                     NVIC_SetPriority:
   \   00000000   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   00000002   0x2800             CMP      R0,#+0
   \   00000004   0xD508             BPL.N    ??NVIC_SetPriority_0
   \   00000006   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   00000008   0xF010 0x020F      ANDS     R2,R0,#0xF
   \   0000000C   0x....             LDR.N    R3,??DataTable3_1  ;; 0xe000ed18
   \   0000000E   0x18D2             ADDS     R2,R2,R3
   \   00000010   0x00CB             LSLS     R3,R1,#+3
   \   00000012   0xF802 0x3C04      STRB     R3,[R2, #-4]
   \   00000016   0xE003             B.N      ??NVIC_SetPriority_1
   \                     ??NVIC_SetPriority_0:
   \   00000018   0xB240             SXTB     R0,R0            ;; SignExt  R0,R0,#+24,#+24
   \   0000001A   0x....             LDR.N    R2,??DataTable3_2  ;; 0xe000e400
   \   0000001C   0x00CB             LSLS     R3,R1,#+3
   \   0000001E   0x5483             STRB     R3,[R0, R2]
   \                     ??NVIC_SetPriority_1:
   \   00000020   0x4770             BX       LR               ;; return
      2          
      3          extern UINT16 g_LowLatency; //edit 2014.07.16
      4          
      5          //定时器0中断函数  	 25ms

   \                                 In section .text, align 2, keep-with-next
      6          void TIMER0_IRQHandler(void)
      7          {
   \                     TIMER0_IRQHandler:
   \   00000000   0xB580             PUSH     {R7,LR}
      8          	if (TIM_GetIntStatus(LPC_TIM0, TIM_MR0_INT)== SET)
   \   00000002   0x2100             MOVS     R1,#+0
   \   00000004   0xF05F 0x2040      MOVS     R0,#+1073758208
   \   00000008   0x.... 0x....      BL       TIM_GetIntStatus
   \   0000000C   0x2801             CMP      R0,#+1
   \   0000000E   0xD145             BNE.N    ??TIMER0_IRQHandler_0
      9          	{
     10                  Timer_Flag.Wait_Time_Cnt++; //AT命令等待计时器
   \   00000010   0x....             LDR.N    R0,??DataTable3_3
   \   00000012   0x8800             LDRH     R0,[R0, #+0]
   \   00000014   0x1C40             ADDS     R0,R0,#+1
   \   00000016   0x....             LDR.N    R1,??DataTable3_3
   \   00000018   0x8008             STRH     R0,[R1, #+0]
     11                  Timer_Flag.TimeOut_Cnt++; //AT命令超时计时器
   \   0000001A   0x....             LDR.N    R0,??DataTable3_3
   \   0000001C   0x8840             LDRH     R0,[R0, #+2]
   \   0000001E   0x1C40             ADDS     R0,R0,#+1
   \   00000020   0x....             LDR.N    R1,??DataTable3_3
   \   00000022   0x8048             STRH     R0,[R1, #+2]
     12                  Timer_Flag.Msg_Data_Timeout++;//华测数据组包计时器
   \   00000024   0x....             LDR.N    R0,??DataTable3_3
   \   00000026   0x7900             LDRB     R0,[R0, #+4]
   \   00000028   0x1C40             ADDS     R0,R0,#+1
   \   0000002A   0x....             LDR.N    R1,??DataTable3_3
   \   0000002C   0x7108             STRB     R0,[R1, #+4]
     13          		Timer_Flag.Signal_Weak_Timeout++;	//信号强度低 计时器
   \   0000002E   0x....             LDR.N    R0,??DataTable3_3
   \   00000030   0x88C0             LDRH     R0,[R0, #+6]
   \   00000032   0x1C40             ADDS     R0,R0,#+1
   \   00000034   0x....             LDR.N    R1,??DataTable3_3
   \   00000036   0x80C8             STRH     R0,[R1, #+6]
     14          		Timer_Flag.Set_Work_Mode_Timeout++;	 //设置工作模式 计时器
   \   00000038   0x....             LDR.N    R0,??DataTable3_3
   \   0000003A   0x7A00             LDRB     R0,[R0, #+8]
   \   0000003C   0x1C40             ADDS     R0,R0,#+1
   \   0000003E   0x....             LDR.N    R1,??DataTable3_3
   \   00000040   0x7208             STRB     R0,[R1, #+8]
     15                  Timer_Flag.Set_Dial_Parameter_Timeout++;//设置拨号连接参数 计时器
   \   00000042   0x....             LDR.N    R0,??DataTable3_3
   \   00000044   0x7B00             LDRB     R0,[R0, #+12]
   \   00000046   0x1C40             ADDS     R0,R0,#+1
   \   00000048   0x....             LDR.N    R1,??DataTable3_3
   \   0000004A   0x7308             STRB     R0,[R1, #+12]
     16                  Timer_Flag.Set_Protocol_Parameter_Timeout++;//设置APIS和CORS参数 计时器	
   \   0000004C   0x....             LDR.N    R0,??DataTable3_3
   \   0000004E   0x7B40             LDRB     R0,[R0, #+13]
   \   00000050   0x1C40             ADDS     R0,R0,#+1
   \   00000052   0x....             LDR.N    R1,??DataTable3_3
   \   00000054   0x7348             STRB     R0,[R1, #+13]
     17          		Timer_Flag.Set_Radio_Freq_Timeout++;	 //设置电台频率  计时器
   \   00000056   0x....             LDR.N    R0,??DataTable3_3
   \   00000058   0x8940             LDRH     R0,[R0, #+10]
   \   0000005A   0x1C40             ADDS     R0,R0,#+1
   \   0000005C   0x....             LDR.N    R1,??DataTable3_3
   \   0000005E   0x8148             STRH     R0,[R1, #+10]
     18          		Timer_Flag.Request_GPGGA_Timeout++; //请求GPGGA数据 计数器
   \   00000060   0x....             LDR.N    R0,??DataTable3_3
   \   00000062   0x7B80             LDRB     R0,[R0, #+14]
   \   00000064   0x1C40             ADDS     R0,R0,#+1
   \   00000066   0x....             LDR.N    R1,??DataTable3_3
   \   00000068   0x7388             STRB     R0,[R1, #+14]
     19                  Timer_Flag.No_Diff_Data_Timeout++; //无差分数据计时器
   \   0000006A   0x....             LDR.N    R0,??DataTable3_3
   \   0000006C   0x8A00             LDRH     R0,[R0, #+16]
   \   0000006E   0x1C40             ADDS     R0,R0,#+1
   \   00000070   0x....             LDR.N    R1,??DataTable3_3
   \   00000072   0x8208             STRH     R0,[R1, #+16]
     20          		Timer_Flag.GPGGA_Timeout++;	//心跳包计数器
   \   00000074   0x....             LDR.N    R0,??DataTable3_3
   \   00000076   0x7C80             LDRB     R0,[R0, #+18]
   \   00000078   0x1C40             ADDS     R0,R0,#+1
   \   0000007A   0x....             LDR.N    R1,??DataTable3_3
   \   0000007C   0x7488             STRB     R0,[R1, #+18]
     21          		Timer_Flag.CORS_No_ACK_Timeout++; //CORS登录数据包响应计时器
   \   0000007E   0x....             LDR.N    R0,??DataTable3_3
   \   00000080   0x8A80             LDRH     R0,[R0, #+20]
   \   00000082   0x1C40             ADDS     R0,R0,#+1
   \   00000084   0x....             LDR.N    R1,??DataTable3_3
   \   00000086   0x8288             STRH     R0,[R1, #+20]
     22          		Timer_Flag.Apis_Beat++;	 //心跳包计时器
   \   00000088   0x....             LDR.N    R0,??DataTable3_3
   \   0000008A   0x8AC0             LDRH     R0,[R0, #+22]
   \   0000008C   0x1C40             ADDS     R0,R0,#+1
   \   0000008E   0x....             LDR.N    R1,??DataTable3_3
   \   00000090   0x82C8             STRH     R0,[R1, #+22]
     23                  Timer_Flag.Simcard_Timeout++;//SIMCARD检测计时器
   \   00000092   0x....             LDR.N    R0,??DataTable3_3
   \   00000094   0x8B00             LDRH     R0,[R0, #+24]
   \   00000096   0x1C40             ADDS     R0,R0,#+1
   \   00000098   0x....             LDR.N    R1,??DataTable3_3
   \   0000009A   0x8308             STRH     R0,[R1, #+24]
     24              }
     25          	TIM_ClearIntPending(LPC_TIM0, TIM_MR0_INT);
   \                     ??TIMER0_IRQHandler_0:
   \   0000009C   0x2100             MOVS     R1,#+0
   \   0000009E   0xF05F 0x2040      MOVS     R0,#+1073758208
   \   000000A2   0x.... 0x....      BL       TIM_ClearIntPending
     26             
     27          
     28              rain_count_time_handler();
   \   000000A6   0x.... 0x....      BL       rain_count_time_handler
     29              
     30              tsensor_time_handler();
   \   000000AA   0x.... 0x....      BL       tsensor_time_handler
     31              
     32              rs485_timer_handler();
   \   000000AE   0x.... 0x....      BL       rs485_timer_handler
     33              
     34              adc_time_handler();
   \   000000B2   0x.... 0x....      BL       adc_time_handler
     35              
     36              rs232_time_handler();
   \   000000B6   0x.... 0x....      BL       rs232_time_handler
     37              
     38              bd_time_handler();
   \   000000BA   0x.... 0x....      BL       bd_time_handler
     39          	
     40          	pwm_timer_handler();
   \   000000BE   0x.... 0x....      BL       pwm_timer_handler
     41              
     42              //edit 2014.07.16 定时40s发送RTK模式设置指令
     43              g_LowLatency++;
   \   000000C2   0x....             LDR.N    R0,??DataTable3_4
   \   000000C4   0x8800             LDRH     R0,[R0, #+0]
   \   000000C6   0x1C40             ADDS     R0,R0,#+1
   \   000000C8   0x....             LDR.N    R1,??DataTable3_4
   \   000000CA   0x8008             STRH     R0,[R1, #+0]
     44              if (g_LowLatency > 1600)
   \   000000CC   0x....             LDR.N    R0,??DataTable3_4
   \   000000CE   0x8800             LDRH     R0,[R0, #+0]
   \   000000D0   0xF5B0 0x6FC8      CMP      R0,#+1600
   \   000000D4   0xDD03             BLE.N    ??TIMER0_IRQHandler_1
     45                  g_LowLatency = 1600;
   \   000000D6   0x....             LDR.N    R0,??DataTable3_4
   \   000000D8   0xF44F 0x61C8      MOV      R1,#+1600
   \   000000DC   0x8001             STRH     R1,[R0, #+0]
     46              
     47              //bd
     48              g_RtuStatus.dog_BD ++;
   \                     ??TIMER0_IRQHandler_1:
   \   000000DE   0x....             LDR.N    R0,??DataTable3_5
   \   000000E0   0x6940             LDR      R0,[R0, #+20]
   \   000000E2   0x1C40             ADDS     R0,R0,#+1
   \   000000E4   0x....             LDR.N    R1,??DataTable3_5
   \   000000E6   0x6148             STR      R0,[R1, #+20]
     49              if(g_RtuStatus.dog_BD > DOG_BD_TIME)
   \   000000E8   0x....             LDR.N    R0,??DataTable3_5
   \   000000EA   0x6940             LDR      R0,[R0, #+20]
   \   000000EC   0x2879             CMP      R0,#+121
   \   000000EE   0xD302             BCC.N    ??TIMER0_IRQHandler_2
     50              {
     51                  g_RtuStatus.dog_BD = DOG_BD_TIME;
   \   000000F0   0x....             LDR.N    R0,??DataTable3_5
   \   000000F2   0x2178             MOVS     R1,#+120
   \   000000F4   0x6141             STR      R1,[R0, #+20]
     52              }
     53              
     54              g_RtuStatus.dog_TM ++;
   \                     ??TIMER0_IRQHandler_2:
   \   000000F6   0x....             LDR.N    R0,??DataTable3_5
   \   000000F8   0x6980             LDR      R0,[R0, #+24]
   \   000000FA   0x1C40             ADDS     R0,R0,#+1
   \   000000FC   0x....             LDR.N    R1,??DataTable3_5
   \   000000FE   0x6188             STR      R0,[R1, #+24]
     55              if(g_RtuStatus.dog_TM > DOG_TM_TIME)
   \   00000100   0x....             LDR.N    R0,??DataTable3_5
   \   00000102   0x6980             LDR      R0,[R0, #+24]
   \   00000104   0x28C9             CMP      R0,#+201
   \   00000106   0xD302             BCC.N    ??TIMER0_IRQHandler_3
     56              {
     57                  g_RtuStatus.dog_TM = DOG_TM_TIME;
   \   00000108   0x....             LDR.N    R0,??DataTable3_5
   \   0000010A   0x21C8             MOVS     R1,#+200
   \   0000010C   0x6181             STR      R1,[R0, #+24]
     58              }
     59              
     60              g_RtuStatus.dog_file_rd ++;
   \                     ??TIMER0_IRQHandler_3:
   \   0000010E   0x....             LDR.N    R0,??DataTable3_5
   \   00000110   0x69C0             LDR      R0,[R0, #+28]
   \   00000112   0x1C40             ADDS     R0,R0,#+1
   \   00000114   0x....             LDR.N    R1,??DataTable3_5
   \   00000116   0x61C8             STR      R0,[R1, #+28]
     61              if(g_RtuStatus.dog_file_rd > DOG_FILE_RD_TIME)
   \   00000118   0x....             LDR.N    R0,??DataTable3_5
   \   0000011A   0x69C0             LDR      R0,[R0, #+28]
   \   0000011C   0x2829             CMP      R0,#+41
   \   0000011E   0xD302             BCC.N    ??TIMER0_IRQHandler_4
     62              {
     63                  g_RtuStatus.dog_file_rd = DOG_FILE_RD_TIME;
   \   00000120   0x....             LDR.N    R0,??DataTable3_5
   \   00000122   0x2128             MOVS     R1,#+40
   \   00000124   0x61C1             STR      R1,[R0, #+28]
     64              }
     65              
     66              /** 使用RTC的整点加中断触发存储 **/
     67              g_RtuStatus.dog_save_conf ++;
   \                     ??TIMER0_IRQHandler_4:
   \   00000126   0x....             LDR.N    R0,??DataTable3_5
   \   00000128   0x6A00             LDR      R0,[R0, #+32]
   \   0000012A   0x1C40             ADDS     R0,R0,#+1
   \   0000012C   0x....             LDR.N    R1,??DataTable3_5
   \   0000012E   0x6208             STR      R0,[R1, #+32]
     68              if(g_RtuStatus.dog_save_conf > DOG_SAVE_CONF_TIME)
   \   00000130   0x....             LDR.N    R0,??DataTable3_5
   \   00000132   0x6A00             LDR      R0,[R0, #+32]
   \   00000134   0x....             LDR.N    R1,??DataTable3_6  ;; 0x23281
   \   00000136   0x4288             CMP      R0,R1
   \   00000138   0xD302             BCC.N    ??TIMER0_IRQHandler_5
     69              {
     70                  g_RtuStatus.dog_save_conf = DOG_SAVE_CONF_TIME;
   \   0000013A   0x....             LDR.N    R0,??DataTable3_5
   \   0000013C   0x....             LDR.N    R1,??DataTable3_7  ;; 0x23280
   \   0000013E   0x6201             STR      R1,[R0, #+32]
     71              }
     72              
     73              g_RtuStatus.dog_heart ++;
   \                     ??TIMER0_IRQHandler_5:
   \   00000140   0x....             LDR.N    R0,??DataTable3_5
   \   00000142   0x6A40             LDR      R0,[R0, #+36]
   \   00000144   0x1C40             ADDS     R0,R0,#+1
   \   00000146   0x....             LDR.N    R1,??DataTable3_5
   \   00000148   0x6248             STR      R0,[R1, #+36]
     74              if(g_RtuStatus.dog_heart > DOG_HEART_TIME)
   \   0000014A   0x....             LDR.N    R0,??DataTable3_5
   \   0000014C   0x6A40             LDR      R0,[R0, #+36]
   \   0000014E   0xF5B0 0x5F61      CMP      R0,#+14400
   \   00000152   0xD903             BLS.N    ??TIMER0_IRQHandler_6
     75              {
     76                  g_RtuStatus.dog_heart = DOG_HEART_TIME;
   \   00000154   0x....             LDR.N    R0,??DataTable3_5
   \   00000156   0xF44F 0x5161      MOV      R1,#+14400
   \   0000015A   0x6241             STR      R1,[R0, #+36]
     77              }
     78          	
     79          	g_SetRTCCount++;
   \                     ??TIMER0_IRQHandler_6:
   \   0000015C   0x....             LDR.N    R0,??DataTable3_8
   \   0000015E   0x6800             LDR      R0,[R0, #+0]
   \   00000160   0x1C40             ADDS     R0,R0,#+1
   \   00000162   0x....             LDR.N    R1,??DataTable3_8
   \   00000164   0x6008             STR      R0,[R1, #+0]
     80          	if(g_SetRTCCount > RTCSETTIME)
   \   00000166   0x....             LDR.N    R0,??DataTable3_8
   \   00000168   0x6800             LDR      R0,[R0, #+0]
   \   0000016A   0xF5B0 0x5FE1      CMP      R0,#+7200
   \   0000016E   0xD903             BLS.N    ??TIMER0_IRQHandler_7
     81          	{
     82          		g_SetRTCCount = RTCSETTIME;
   \   00000170   0x....             LDR.N    R0,??DataTable3_8
   \   00000172   0xF44F 0x51E1      MOV      R1,#+7200
   \   00000176   0x6001             STR      R1,[R0, #+0]
     83          	}
     84          }
   \                     ??TIMER0_IRQHandler_7:
   \   00000178   0xBD01             POP      {R0,PC}          ;; return
     85          

   \                                 In section .text, align 2, keep-with-next
     86          void  Init_Timer_Flag(void)
     87          {
     88              Timer_Flag.TimeOut_Cnt = 0;
   \                     Init_Timer_Flag:
   \   00000000   0x....             LDR.N    R0,??DataTable3_3
   \   00000002   0x2100             MOVS     R1,#+0
   \   00000004   0x8041             STRH     R1,[R0, #+2]
     89              Timer_Flag.Wait_Time_Cnt = 0;
   \   00000006   0x....             LDR.N    R0,??DataTable3_3
   \   00000008   0x2100             MOVS     R1,#+0
   \   0000000A   0x8001             STRH     R1,[R0, #+0]
     90              Timer_Flag.Msg_Data_Timeout = 0;
   \   0000000C   0x....             LDR.N    R0,??DataTable3_3
   \   0000000E   0x2100             MOVS     R1,#+0
   \   00000010   0x7101             STRB     R1,[R0, #+4]
     91          	Timer_Flag.Signal_Weak_Timeout = 0;
   \   00000012   0x....             LDR.N    R0,??DataTable3_3
   \   00000014   0x2100             MOVS     R1,#+0
   \   00000016   0x80C1             STRH     R1,[R0, #+6]
     92          	Timer_Flag.Set_Work_Mode_Timeout = 0;
   \   00000018   0x....             LDR.N    R0,??DataTable3_3
   \   0000001A   0x2100             MOVS     R1,#+0
   \   0000001C   0x7201             STRB     R1,[R0, #+8]
     93              Timer_Flag.Set_Dial_Parameter_Timeout = 0;
   \   0000001E   0x....             LDR.N    R0,??DataTable3_3
   \   00000020   0x2100             MOVS     R1,#+0
   \   00000022   0x7301             STRB     R1,[R0, #+12]
     94              Timer_Flag.Set_Protocol_Parameter_Timeout = 0;
   \   00000024   0x....             LDR.N    R0,??DataTable3_3
   \   00000026   0x2100             MOVS     R1,#+0
   \   00000028   0x7341             STRB     R1,[R0, #+13]
     95          	Timer_Flag.Set_Radio_Freq_Timeout = 0;
   \   0000002A   0x....             LDR.N    R0,??DataTable3_3
   \   0000002C   0x2100             MOVS     R1,#+0
   \   0000002E   0x8141             STRH     R1,[R0, #+10]
     96          	Timer_Flag.Request_GPGGA_Timeout = 0;
   \   00000030   0x....             LDR.N    R0,??DataTable3_3
   \   00000032   0x2100             MOVS     R1,#+0
   \   00000034   0x7381             STRB     R1,[R0, #+14]
     97              Timer_Flag.No_Diff_Data_Timeout = 0;
   \   00000036   0x....             LDR.N    R0,??DataTable3_3
   \   00000038   0x2100             MOVS     R1,#+0
   \   0000003A   0x8201             STRH     R1,[R0, #+16]
     98          	Timer_Flag.GPGGA_Timeout = 0;
   \   0000003C   0x....             LDR.N    R0,??DataTable3_3
   \   0000003E   0x2100             MOVS     R1,#+0
   \   00000040   0x7481             STRB     R1,[R0, #+18]
     99          	Timer_Flag.CORS_No_ACK_Timeout = 0;
   \   00000042   0x....             LDR.N    R0,??DataTable3_3
   \   00000044   0x2100             MOVS     R1,#+0
   \   00000046   0x8281             STRH     R1,[R0, #+20]
    100          	Timer_Flag.Apis_Beat = 0;
   \   00000048   0x....             LDR.N    R0,??DataTable3_3
   \   0000004A   0x2100             MOVS     R1,#+0
   \   0000004C   0x82C1             STRH     R1,[R0, #+22]
    101              Timer_Flag.Simcard_Timeout = 0;
   \   0000004E   0x....             LDR.N    R0,??DataTable3_3
   \   00000050   0x2100             MOVS     R1,#+0
   \   00000052   0x8301             STRH     R1,[R0, #+24]
    102          }
   \   00000054   0x4770             BX       LR               ;; return
    103          
    104          
    105          //定时器初始化

   \                                 In section .text, align 2, keep-with-next
    106          void  Init_Timer0(void)
    107          {
   \                     Init_Timer0:
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB085             SUB      SP,SP,#+20
    108          	TIM_TIMERCFG_Type TIM_ConfigStruct;
    109          	TIM_MATCHCFG_Type TIM_MatchConfigStruct ;
    110              //PINSEL_CFG_Type PinCfg;
    111          
    112              // Conifg P1.28 as MAT0.0
    113          	//PinCfg.Funcnum = 3;
    114          	//PinCfg.OpenDrain = 0;
    115          	//PinCfg.Pinmode = 0;
    116          	//PinCfg.Portnum = 1;
    117          	//PinCfg.Pinnum = 28;
    118          	//PINSEL_ConfigPin(&PinCfg);
    119          
    120          	// Initialize timer 0, prescale count time of 50uS
    121          	TIM_ConfigStruct.PrescaleOption = TIM_PRESCALE_USVAL;
   \   00000004   0x2001             MOVS     R0,#+1
   \   00000006   0xF88D 0x000C      STRB     R0,[SP, #+12]
    122          	TIM_ConfigStruct.PrescaleValue	= 50;
   \   0000000A   0x2032             MOVS     R0,#+50
   \   0000000C   0x9004             STR      R0,[SP, #+16]
    123          
    124          	// use channel 0, MR0
    125          	TIM_MatchConfigStruct.MatchChannel = 0;
   \   0000000E   0x2000             MOVS     R0,#+0
   \   00000010   0xF88D 0x0000      STRB     R0,[SP, #+0]
    126          	// Enable interrupt when MR0 matches the value in TC register
    127          	TIM_MatchConfigStruct.IntOnMatch   = TRUE;
   \   00000014   0x2001             MOVS     R0,#+1
   \   00000016   0xF88D 0x0001      STRB     R0,[SP, #+1]
    128          	//Enable reset on MR0: TIMER will reset if MR0 matches it
    129          	TIM_MatchConfigStruct.ResetOnMatch = TRUE;
   \   0000001A   0x2001             MOVS     R0,#+1
   \   0000001C   0xF88D 0x0003      STRB     R0,[SP, #+3]
    130          	//Stop on MR0 if MR0 matches it
    131          	TIM_MatchConfigStruct.StopOnMatch  = FALSE;
   \   00000020   0x2000             MOVS     R0,#+0
   \   00000022   0xF88D 0x0002      STRB     R0,[SP, #+2]
    132          	//Nothiing if MR0 matches it
    133          	TIM_MatchConfigStruct.ExtMatchOutputType = TIM_EXTMATCH_NOTHING;
   \   00000026   0x2000             MOVS     R0,#+0
   \   00000028   0xF88D 0x0004      STRB     R0,[SP, #+4]
    134          	// Set Match value, count value of 50 (500 * 50uS = 25ms）
    135          	TIM_MatchConfigStruct.MatchValue  = 500;	 //25ms
   \   0000002C   0xF44F 0x70FA      MOV      R0,#+500
   \   00000030   0x9002             STR      R0,[SP, #+8]
    136          
    137          	// Set configuration for Tim_config and Tim_MatchConfig
    138          	TIM_Init(LPC_TIM0, TIM_TIMER_MODE,&TIM_ConfigStruct);
   \   00000032   0xAA03             ADD      R2,SP,#+12
   \   00000034   0x2100             MOVS     R1,#+0
   \   00000036   0xF05F 0x2040      MOVS     R0,#+1073758208
   \   0000003A   0x.... 0x....      BL       TIM_Init
    139          	TIM_ConfigMatch(LPC_TIM0,&TIM_MatchConfigStruct);
   \   0000003E   0xA900             ADD      R1,SP,#+0
   \   00000040   0xF05F 0x2040      MOVS     R0,#+1073758208
   \   00000044   0x.... 0x....      BL       TIM_ConfigMatch
    140          
    141          	/* preemption = 1, sub-priority = 1 */
    142          	//NVIC_SetPriority(TIMER0_IRQn, ((0x01<<3)|0x01));
    143          	/* Enable interrupt for timer 0 */
    144          	//NVIC_EnableIRQ(TIMER0_IRQn);
    145          	// To start timer 0
    146          	TIM_Cmd(LPC_TIM0,ENABLE);
   \   00000048   0x2101             MOVS     R1,#+1
   \   0000004A   0xF05F 0x2040      MOVS     R0,#+1073758208
   \   0000004E   0x.... 0x....      BL       TIM_Cmd
    147              /* preemption = 1, sub-priority = 1 */
    148          	NVIC_SetPriority(BRD_TIM_INTR_USED, ((0x01<<3)|0x01));
   \   00000052   0x2109             MOVS     R1,#+9
   \   00000054   0x2001             MOVS     R0,#+1
   \   00000056   0x.... 0x....      BL       NVIC_SetPriority
    149          
    150          	/* Enable interrupt for timer 0 */
    151          	NVIC_EnableIRQ(BRD_TIM_INTR_USED);
   \   0000005A   0x2001             MOVS     R0,#+1
   \   0000005C   0x.... 0x....      BL       NVIC_EnableIRQ
    152          }
   \   00000060   0xB005             ADD      SP,SP,#+20
   \   00000062   0xBD00             POP      {PC}             ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0xE000E100         DC32     0xe000e100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0xE000ED18         DC32     0xe000ed18

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0xE000E400         DC32     0xe000e400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0x........         DC32     Timer_Flag

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0x........         DC32     g_LowLatency

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_5:
   \   00000000   0x........         DC32     g_RtuStatus

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_6:
   \   00000000   0x00023281         DC32     0x23281

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_7:
   \   00000000   0x00023280         DC32     0x23280

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_8:
   \   00000000   0x........         DC32     g_SetRTCCount

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      24   Init_Timer0
        24   -> NVIC_EnableIRQ
        24   -> NVIC_SetPriority
        24   -> TIM_Cmd
        24   -> TIM_ConfigMatch
        24   -> TIM_Init
       0   Init_Timer_Flag
       4   NVIC_EnableIRQ
       0   NVIC_SetPriority
       8   TIMER0_IRQHandler
         8   -> TIM_ClearIntPending
         8   -> TIM_GetIntStatus
         8   -> adc_time_handler
         8   -> bd_time_handler
         8   -> pwm_timer_handler
         8   -> rain_count_time_handler
         8   -> rs232_time_handler
         8   -> rs485_timer_handler
         8   -> tsensor_time_handler


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_2
       4  ??DataTable3_3
       4  ??DataTable3_4
       4  ??DataTable3_5
       4  ??DataTable3_6
       4  ??DataTable3_7
       4  ??DataTable3_8
     100  Init_Timer0
      86  Init_Timer_Flag
      24  NVIC_EnableIRQ
      34  NVIC_SetPriority
     378  TIMER0_IRQHandler

 
 658 bytes in section .text
 
 658 bytes of CODE memory

Errors: none
Warnings: none
